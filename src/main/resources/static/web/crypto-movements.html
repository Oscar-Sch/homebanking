<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/styles/index.css" />
    <link rel="stylesheet" href="./assets/styles/style.css" />
    <link rel="stylesheet" href="./assets/styles/cards.css" />
    <link rel="stylesheet" href="./assets/styles/account.css" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script defer src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script
      src="https://kit.fontawesome.com/131d9c1f34.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
      integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script defer src="./assets/scripts/account.js"></script>
    <title>Mindhub Brothers | Transactions</title>
  </head>
  <body id="app">
    <header>
      <nav class="navbar navbar-expand-md">
        <div class="container">
          <!-- <a class="navbar-brand" href="#"><img src="./assets/images/mhb-logo.svg" alt=""></a> -->
          <button
            class="navbar-toggler custom-toggler d-lg-none"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapsibleNavId"
            aria-controls="collapsibleNavId"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul
              class="navbar-nav me-auto mt-2 mt-lg-0 d-flex flex-column align-items-center"
            >
              <li class="nav-item"><a href="#">HOME</a></li>
              <li class="nav-item"><a href="./accounts.html">ACCOUNTS</a></li>
              <li class="nav-item">
                <a href="./transactions.html">MOVEMENTS</a>
              </li>
              <li class="nav-item">
                <a href="./loan-aplication.html">LOANS</a>
              </li>
              <li class="nav-item"><a href="./cards.html">CARDS</a></li>
              <li class="nav-item">
                <a href="./create-cards.html">NEW CARDS</a>
              </li>
              <li class="nav-item">
                <a href="" data-bs-toggle="modal" data-bs-target="#modalLogin"
                  >LOGOUT</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main>
      <div class="main-content-container d-flex">
        <div class="lateral-navigation-container">
          <div class="lateral-navigation-subcontainer">
            <nav class="sidenav">
              <ul>
                <li>
                  <a href="" class="sidenav-user">
                    <span v-if="data"
                      ><img
                        :src="'https://robohash.org/'+hashUser"
                        class="user-image"
                    /></span>
                    <span v-else><i class="fa-solid fa-user"></i></span>
                    <span v-if="data"
                      >{{data.data.firstName}} {{data.data.lastName}}</span
                    ></a
                  >
                </li>
                <!-- <button @click="sesionLogout()">Logout!</button> -->
                <div>
                  <li>
                    <a href="#"
                      ><span class="sidenav-icon-span"
                        ><i class="fa-solid fa-house fa-lg"></i></span
                      ><span>HOME</span></a
                    >
                  </li>
                  <li>
                    <a href="./accounts.html"
                      ><span class="sidenav-icon-span"
                        ><i class="fa-solid fa-wallet fa-lg"></i></span
                      ><span>ACCOUNTS</span></a
                    >
                  </li>
                  <li>
                    <a href="./transactions.html"
                      ><span class="sidenav-icon-span"
                        ><i
                          class="fa-solid fa-money-bill-transfer fa-lg"
                        ></i></span
                      ><span>MOVEMENTS</span></a
                    >
                  </li>
                  <li>
                    <a href="./loan-aplication.html"
                      ><span class="sidenav-icon-span"
                        ><i class="fa-solid fa-coins fa-lg"></i></span
                      ><span>LOANS</span></a
                    >
                  </li>
                  <li>
                    <a href="./cards.html"
                      ><span class="sidenav-icon-span"
                        ><i class="fa-solid fa-credit-card fa-lg"></i></span
                      ><span>CARDS</span></a
                    >
                  </li>
                  <li>
                    <a href="./create-cards.html"
                      ><span class="sidenav-icon-span"
                        ><i class="fa-solid fa-credit-card fa-lg"></i></span
                      ><span>NEW CARDS</span></a
                    >
                  </li>
                </div>
                <li>
                  <a href="" data-bs-toggle="modal" data-bs-target="#modalLogin"
                    ><span class="sidenav-icon-span"
                      ><i
                        class="fa-solid fa-right-from-bracket fa-lg"
                      ></i></span
                    ><span>LOGOUT</span></a
                  >
                </li>
              </ul>
            </nav>
            <span @click="openNav()">Menu</span>
          </div>
        </div>
        <div class="main-content-subcontainer">
          <div class="title-container">
            <h1>
              <span class="title-word-container t-second"
                ><span aria-hidden="true">Movements</span> Movements<span
                  aria-hidden="true"
                  >Movements</span
                ></span
              >
            </h1>
          </div>
          <div class="card-list-pad">
            <span></span>
            <span></span>
            <div class="card-list-pad_top pad-top"></div>
            <div class="display card-list-pad_display">
              <div class="movements-container">
                <div @click="generatePDF()" class="pdf-icon-container">
                  <i class="fa-solid fa-file-pdf fa-2xl pdf-icon"></i>
                </div>
                <div class="date-filter">
                  <label>
                    <span>From: </span>
                    <input type="date" name="date1" v-model="fromDate" />
                  </label>
                  <label>
                    <span>To: </span>
                    <input type="date" name="date1" v-model="thruDate" />
                  </label>
                  <button @click="dateFilter()">Filter</button>
                </div>
                <table class="loans-table crypto-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Coin</th>
                      <th>Price</th>
                      <th>Amount</th>
                      <th>Price Change</th>
                      <th>24h Volume</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="(coin, index) in filteredCoins">
                      <td class="text-muted">{{ index }}</td>
                      <td>
                        <img class="coin-symbol" :src="coin.image"/>
                        <span> {{ coin.name }} </span>
                        <span class="ms-2 text-muted text-uppercase">
                          {{ coin.symbol }}
                        </span>
                      </td>
                      <td>{{ formatCurrency(coin.current_price)}}</td>
                      <td>{{accountCoins.find(co=> co.coinId===coin.id).amount.toFixed(4)}}</td>
                      <td
                        :class="[
                                coin.price_change_percentage_24h > 0
                                  ? 'text-success'
                                  : 'text-danger',
                              ]"
                      >
                        {{ coin.price_change_percentage_24h }}
                      </td>
                      <td>{{ coin.total_volume.toLocaleString() }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="card-list-pad_bot pad-bot"></div>
          </div>
        </div>
      </div>
      <div class="print-container">
        <div class="print-content">
          <h5 class="print-date">{{new Date().toLocaleDateString()}}</h5>
          <div class="title-container-home">
            <h1>
              <span class="title-word-container-home t-first-home"
                ><span aria-hidden="true">MindHub</span> MindHub<span
                  aria-hidden="true"
                  >MindHub</span
                ></span
              >
              <span class="title-word-container-home t-second-home"
                ><span aria-hidden="true">BrotherS</span> BrotherS<span
                  aria-hidden="true"
                  >BrotherS</span
                ></span
              >
            </h1>
          </div>
          <div class="print-account-details">
            <h5>Account: {{account.number}}</h5>
            <h5>Client: {{data.data.firstName +" "+data.data.lastName}}</h5>
            <h5>Balance: {{formatCurrency(account.balance)}}</h5>
          </div>
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <!-- <th>Type</th> -->
                <th>Amount</th>
                <th>Balance</th>
                <th>Description</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody v-if="transactions.length>0">
              <tr v-for="transaction of transactions">
                <td>{{transaction.id}}</td>
                <!-- <td>{{transaction.type}}</td> -->
                <td>
                  {{(transaction.type=="CREDIT"?"+":"-") +
                  formatCurrency(transaction.amount)}}
                </td>
                <td>{{formatCurrency(account.balance)}}</td>
                <td>{{transaction.description}}</td>
                <td>{{transaction.date.split("T")[0]}}</td>
              </tr>
            </tbody>
          </table>
          <div class="page_footer">
            <p>Important Legal Information:</p>
            <p>
              This statement is for informational purposes only and is not
              intended to be a legal or accounting document.
              <b>Mindhub Brothers&reg;</b> assumes no responsibility for any
              errors or omissions in this statement or for any actions taken in
              reliance on it. You should review this statement carefully and
              promptly report any discrepancies to <b>Mindhub Brothers&reg;</b>.
            </p>
            <p>
              Please note that this statement does not constitute a contract,
              offer, or commitment to lend or extend credit.
              <b>Mindhub Brothers&reg;</b> reserves the right to modify,
              suspend, or terminate any products or services described in this
              statement at any time and without notice.
            </p>
            <p>
              This statement is governed by the laws of United States of
              America, and any dispute arising from or related to this statement
              will be subject to the exclusive jurisdiction of the courts of
              United States of America.
            </p>
            <p>
              By accepting this statement, you acknowledge that you have read,
              understood, and agreed to the terms and conditions set forth by
              <b>Mindhub Brothers&reg;</b> in relation to your account. If you
              do not agree with these terms and conditions, please contact
              <b>Mindhub Brothers&reg;</b> immediately to discuss your options.
            </p>
            <p>
              Thank you for choosing <b>Mindhub Brothers&reg;</b> as your
              financial partner. We appreciate your business and look forward to
              serving you in the future.
            </p>
          </div>
        </div>
      </div>
      <div
        class="modal fade"
        id="modalLogin"
        tabindex="-1"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        role="dialog"
        aria-labelledby="modalTitleId"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-dialog-centered login-modal"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-header card-pad_top">
              <button
                type="button"
                class="close-modal"
                data-bs-dismiss="modal"
                aria-label="Close"
              >
                <i class="fa-sharp fa-solid fa-xmark fa-2xl"></i>
              </button>
            </div>
            <div class="display modal-body logout-display">
              <div class="overflow-container">
                <div class="pad-contrast-container">
                  <h3>Are you sure?</h3>
                  <div>
                    <button class="btn-signIn" @click="sesionLogout()">
                      Logout
                    </button>
                    <button
                      class="btn-signUp"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    >
                      Cancel
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer card-pad_bot"></div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
